<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="layout :: layout(~{::body})">

<body>

<div class="page-header">
    <div class="page-title">
        <h1>–î–µ–¥–ª–∞–π–Ω—ã</h1>
        <p class="subtitle">–ö–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–¥–∞—á –∏ —Å—Ä–æ–∫–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</p>
    </div>

    <a href="/deadlines/new" class="btn-primary">+ –ù–æ–≤—ã–π –¥–µ–¥–ª–∞–π–Ω</a>
</div>

<div class="table-wrapper">
    <table class="table">
        <thead>
        <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–î–∞—Ç–∞</th>
            <th>–°—Ç–∞—Ç—É—Å</th>
            <th class="actions">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="d : ${deadlines}">
            <td th:text="${d.id}"></td>
            <td th:text="${d.title}"></td>
            <td th:text="${#temporals.format(d.deadlineAt, 'dd.MM.yyyy HH:mm')}"></td>

            <td>
                <span class="badge"
                      th:classappend="${d.deadlineAt.isBefore(T(java.time.LocalDateTime).now()) ? 'danger' : 'ok'}">
                    <span th:text="${d.deadlineAt.isBefore(T(java.time.LocalDateTime).now()) ? '–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ' : '–ê–∫—Ç–∏–≤–Ω–æ'}"></span>
                </span>
            </td>

            <td class="actions">
                <a th:href="@{/deadlines/{id}(id=${d.id})}" class="icon-btn edit">‚úèÔ∏è</a>
                <form th:action="@{/deadlines/{id}/delete(id=${d.id})}" method="post" style="display:inline">
                    <button class="icon-btn delete">üóë</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>